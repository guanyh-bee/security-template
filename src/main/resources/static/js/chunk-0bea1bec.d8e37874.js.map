{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/request/request.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./src/components/task/TaskItem.vue?cc42","webpack:///src/components/task/TaskItem.vue","webpack:///./src/components/task/TaskItem.vue?bf2f","webpack:///./src/components/task/TaskItem.vue?e6b8","webpack:///./src/components/task/TaskItem.vue?50cb"],"names":["uncurryThis","PROPER_FUNCTION_NAME","PROPER","redefine","anObject","isPrototypeOf","$toString","fails","regExpFlags","TO_STRING","RegExpPrototype","RegExp","prototype","n$ToString","getFlags","NOT_GENERIC","call","source","flags","INCORRECT_NAME","name","R","this","p","rf","f","undefined","unsafe","instance","axios","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","router","push","err","Promise","reject","response","data","code","window","removeItem","catch","e","console","log","Message","showClose","message","type","error","status","module","exports","that","result","global","ignoreCase","multiline","dotAll","unicode","sticky","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","addTaskItem","_v","editTaskItem","staticStyle","confirmDeleteItem","slot","ref","tableData","handleCurrentChange","scopedSlots","_u","key","fn","scope","row","taskItemNumber","class","_s","taskItemUnit","dialogFormVisible","$event","formData","rules","formLabelWidth","model","value","callback","$$v","$set","expression","handleSure","commitType","handleCancel","staticRenderFns","watch","handler","newValue","deep","taskItemName","currentRow","methods","val","taskItemId","$message","$refs","validate","valid","created","component"],"mappings":"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","file":"js/chunk-0bea1bec.d8e37874.js","sourcesContent":["'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar n$ToString = RegExpPrototype[TO_STRING];\nvar getFlags = uncurryThis(regExpFlags);\n\nvar NOT_GENERIC = fails(function () { return n$ToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && n$ToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = $toString(R.source);\n    var rf = R.flags;\n    var f = $toString(rf === undefined && isPrototypeOf(RegExpPrototype, R) && !('flags' in RegExpPrototype) ? getFlags(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import axios from \"axios\";\nimport router from \"@/router\";\nimport { Message } from \"element-ui\"; //引入axios\n\nlet instance = axios.create({\n  baseURL:  \"http://e7s6ux.natappfree.cc\",\n});\n//http://localhost:8080\ninstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      // 判断是否存在token，如果存在的话，则每个http header都加上token\n      config.headers.token = token; //请求头加上token\n    } else {\n      router.push(\"/login\");\n    }\n    return config;\n  },\n  (err) => {\n    return Promise.reject(err);\n  }\n);\n\ninstance.interceptors.response.use(\n  (response) => {\n    //拦截响应，做统一处理\n    if (response.data.code) {\n      switch (response.data.code) {\n        case 4004:\n          window.localStorage.removeItem(\"token\");\n          window.localStorage.removeItem(\"info\");\n          router.push(\"/login\").catch((e) => {\n            console.log(e);\n          });\n          break;\n\n        case 4003:\n          Message({\n            showClose: true,\n            message: \"权限不足\",\n            type: \"warning\",\n          });\n          break;\n      }\n    }\n    return response;\n  },\n  //接口错误状态处理，也就是说无响应时的处理\n  (error) => {\n    return Promise.reject(error.response.status); // 返回接口返回的错误信息\n  }\n);\nexport default instance;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task_item\"},[_c('div',{staticClass:\"task_item_top\"},[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addTaskItem}},[_vm._v(\"新增选项\")]),_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.editTaskItem}},[_vm._v(\"编辑选项\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"title\":\"确定要删除选中选项吗？\"},on:{\"confirm\":_vm.confirmDeleteItem}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},slot:\"reference\"},[_vm._v(\"删除选项\")])],1)],1)],1),_c('div',{staticClass:\"task_item_content\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"选项列表:\")]),_c('el-table',{ref:\"singleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"highlight-current-row\":\"\"},on:{\"current-change\":_vm.handleCurrentChange}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"align\":\"center\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"property\":\"taskItemName\",\"label\":\"名称\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"是否需要数量\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":scope.row.taskItemNumber ? 'success' : 'danger'}},[_c('i',{class:scope.row.taskItemNumber ? 'el-icon-success' : 'el-icon-error'})])]}}])}),_c('el-table-column',{attrs:{\"label\":\"单位\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span'),_c('el-tag',{attrs:{\"type\":scope.row.taskItemNumber ? 'success' : 'danger'}},[_vm._v(\" \"+_vm._s(scope.row.taskItemNumber ? scope.row.taskItemUnit : \"不需要单位\")+\" \")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"新增选项\",\"visible\":_vm.dialogFormVisible,\"center\":\"\",\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"addItemFormData\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"选项名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"taskItemName\"}},[_c('el-input',{attrs:{\"maxlength\":\"10\",\"show-word-limit\":\"\",\"placeholder\":\"请输入名称\",\"autocomplete\":\"off\"},model:{value:(_vm.formData.taskItemName),callback:function ($$v) {_vm.$set(_vm.formData, \"taskItemName\", $$v)},expression:\"formData.taskItemName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否需要数量\",\"label-width\":_vm.formLabelWidth}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.formData.taskItemNumber),callback:function ($$v) {_vm.$set(_vm.formData, \"taskItemNumber\", $$v)},expression:\"formData.taskItemNumber\"}})],1),_c('el-form-item',{attrs:{\"label\":\"单位\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"placeholder\":_vm.formData.taskItemNumber ? '请输入单位' : '单位不可用',\"disabled\":!_vm.formData.taskItemNumber,\"autocomplete\":\"off\"},model:{value:(_vm.formData.taskItemUnit),callback:function ($$v) {_vm.$set(_vm.formData, \"taskItemUnit\", $$v)},expression:\"formData.taskItemUnit\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSure}},[_vm._v(_vm._s(_vm.commitType == \"insert\" ? \"添加\" : \"修改\"))]),_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"task_item\">\n    <div class=\"task_item_top\">\n      <el-row>\n        <el-button\n          type=\"primary\"\n          @click=\"addTaskItem\"\n          icon=\"el-icon-circle-plus-outline\"\n          >新增选项</el-button\n        >\n        <el-button type=\"warning\" @click=\"editTaskItem\" icon=\"el-icon-edit\"\n          >编辑选项</el-button\n        >\n        <el-popconfirm\n          style=\"margin-left: 8px\"\n          title=\"确定要删除选中选项吗？\"\n          @confirm=\"confirmDeleteItem\"\n        >\n          <el-button slot=\"reference\" type=\"danger\" icon=\"el-icon-delete\"\n            >删除选项</el-button\n          >\n        </el-popconfirm>\n      </el-row>\n    </div>\n    <div class=\"task_item_content\">\n      <span style=\"font-weight: bold\">选项列表:</span>\n      <el-table\n        ref=\"singleTable\"\n        :data=\"tableData\"\n        highlight-current-row\n        @current-change=\"handleCurrentChange\"\n        style=\"width: 100%\"\n      >\n        <el-table-column type=\"index\" align=\"center\" width=\"50\">\n        </el-table-column>\n        <el-table-column property=\"taskItemName\" label=\"名称\" align=\"center\">\n        </el-table-column>\n        <el-table-column label=\"是否需要数量\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"scope.row.taskItemNumber ? 'success' : 'danger'\"\n              ><i\n                :class=\"\n                  scope.row.taskItemNumber ? 'el-icon-success' : 'el-icon-error'\n                \"\n              ></i\n            ></el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"单位\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <span></span>\n            <el-tag :type=\"scope.row.taskItemNumber ? 'success' : 'danger'\">\n              {{\n                scope.row.taskItemNumber ? scope.row.taskItemUnit : \"不需要单位\"\n              }}\n            </el-tag>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n\n    <el-dialog\n      title=\"新增选项\"\n      :visible.sync=\"dialogFormVisible\"\n      center\n      width=\"30%\"\n      :close-on-click-modal=\"false\"\n    >\n      <el-form :model=\"formData\" ref=\"addItemFormData\" :rules=\"rules\">\n        <el-form-item\n          label=\"选项名称\"\n          :label-width=\"formLabelWidth\"\n          prop=\"taskItemName\"\n        >\n          <el-input\n            maxlength=\"10\"\n            show-word-limit\n            v-model=\"formData.taskItemName\"\n            placeholder=\"请输入名称\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否需要数量\" :label-width=\"formLabelWidth\">\n          <el-switch\n            v-model=\"formData.taskItemNumber\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#ff4949\"\n          >\n          </el-switch>\n        </el-form-item>\n        <el-form-item label=\"单位\" :label-width=\"formLabelWidth\">\n          <el-input\n            :placeholder=\"formData.taskItemNumber ? '请输入单位' : '单位不可用'\"\n            v-model=\"formData.taskItemUnit\"\n            :disabled=\"!formData.taskItemNumber\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"handleSure\">{{\n          commitType == \"insert\" ? \"添加\" : \"修改\"\n        }}</el-button>\n        <el-button @click=\"handleCancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport instance from \"@/request/request\";\n\nexport default {\n  watch: {\n    formData: {\n      handler(newValue) {\n        if (!newValue.taskItemNumber) {\n          this.formData.taskItemUnit = \"\";\n        }\n      },\n      deep: true,\n    },\n  },\n\n  data() {\n    return {\n      tableData: [],\n      formData: {\n        taskItemName: \"\",\n        taskItemNumber: false,\n        taskItemUnit: \"\",\n      },\n      commitType: \"insert\",\n      formLabelWidth: \"120px\",\n      dialogFormVisible: false,\n      currentRow: {},\n      rules: {\n        taskItemName: [\n          { required: true, message: \"请输入名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 10,\n            message: \"长度在 2 到 10 个字符\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  methods: {\n    handleCurrentChange(val) {\n      this.currentRow = val;\n    },\n    confirmDeleteItem() {\n      if (this.currentRow.taskItemId == null) {\n        this.$message({\n          message: \"请先选择需要删除的选项\",\n          type: \"warning\",\n        });\n      } else {\n        this.formData = this.currentRow;\n        instance\n          .post(\"/task/deleteItem\", this.formData)\n          .then((res) => {\n            if (res.data.code == 200) {\n              this.$message({\n                message: \"删除成功\",\n                type: \"success\",\n              });\n              this.getItem();\n              this.formData = {\n                taskItemName: \"\",\n                taskItemNumber: false,\n                taskItemUnit: \"\",\n              };\n              this.currentRow = { taskItemId: null };\n            } else {\n              this.$message.error(\"出错啦!\" + res.data.message);\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      }\n    },\n\n    addTaskItem() {\n      this.commitType = \"insert\";\n      this.dialogFormVisible = true;\n    },\n    editTaskItem() {\n      this.commitType = \"update\";\n      console.log(this.currentRow);\n      if (this.currentRow == null || this.currentRow.taskItemId == null) {\n        this.$message({\n          message: \"请先选择需要修改的选项\",\n          type: \"warning\",\n        });\n      } else {\n        this.dialogFormVisible = true;\n        this.formData = this.currentRow;\n      }\n    },\n    handleCancel() {\n      this.dialogFormVisible = false;\n      this.formData = {\n        taskItemName: \"\",\n        taskItemNumber: false,\n        taskItemUnit: \"\",\n      };\n    },\n    handleSure() {\n      this.$refs[\"addItemFormData\"].validate((valid) => {\n        if (valid) {\n          if (this.commitType == \"insert\") {\n            instance\n              .post(\"/task/addItem\", this.formData)\n              .then((res) => {\n                if (res.data.code == 200) {\n                  this.$message({\n                    message: \"添加成功\",\n                    type: \"success\",\n                  });\n                  this.getItem();\n\n                  this.dialogFormVisible = false;\n                  this.formData = {\n                    taskItemName: \"\",\n                    taskItemNumber: false,\n                    taskItemUnit: \"\",\n                  };\n                } else {\n                  this.$message.error(\"出错啦!\" + res.data.message);\n                }\n              })\n              .catch((err) => {\n                err.toString();\n                this.$message.error(\"出错啦!\");\n              });\n          } else {\n            instance\n              .post(\"/task/editItem\", this.formData)\n              .then((res) => {\n                if (res.data.code == 200) {\n                  this.$message({\n                    message: \"修改成功\",\n                    type: \"success\",\n                  });\n                  this.getItem();\n\n                  this.dialogFormVisible = false;\n                  this.formData = {\n                    taskItemName: \"\",\n                    taskItemNumber: false,\n                    taskItemUnit: \"\",\n                  };\n                } else {\n                  this.$message.error(\"出错啦!\" + res.data.message);\n                }\n              })\n              .catch((err) => {\n                err.toString();\n                this.$message.error(\"出错啦!\");\n              });\n          }\n        } else {\n          console.log(\"bad submit\");\n        }\n      });\n    },\n    getItem() {\n      instance\n        .get(\"/task/getItem\")\n        .then((res) => {\n          this.tableData = res.data.data;\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n  created() {\n    this.getItem();\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.task_item {\n  width: 90%;\n  margin: 0 auto;\n  height: 95%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n}\n\n.task_item_top {\n  display: flex;\n  width: 100%;\n  height: 10%;\n  align-items: center;\n  flex: 1;\n}\n\n.task_item_content {\n  flex: 12;\n  width: 60%;\n  margin-top: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TaskItem.vue?vue&type=template&id=27fe533b&scoped=true&\"\nimport script from \"./TaskItem.vue?vue&type=script&lang=js&\"\nexport * from \"./TaskItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TaskItem.vue?vue&type=style&index=0&id=27fe533b&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"27fe533b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TaskItem.vue?vue&type=style&index=0&id=27fe533b&scoped=true&lang=less&\""],"sourceRoot":""}