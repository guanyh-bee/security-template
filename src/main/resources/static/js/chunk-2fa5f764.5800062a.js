(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fa5f764"],{"057f":function(e,t,o){var a=o("c6b6"),r=o("fc6a"),i=o("241c").f,l=o("f36a"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],n=function(e){try{return i(e)}catch(t){return l(s)}};e.exports.f=function(e){return s&&"Window"==a(e)?n(e):i(r(e))}},"0b42":function(e,t,o){var a=o("da84"),r=o("e8b5"),i=o("68ee"),l=o("861d"),s=o("b622"),n=s("species"),d=a.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===d||r(t.prototype))?t=void 0:l(t)&&(t=t[n],null===t&&(t=void 0))),void 0===t?d:t}},"284b":function(e,t,o){"use strict";o("d3b7");var a=o("bc3a"),r=o.n(a),i=o("a18c"),l=o("5c96"),s=r.a.create({baseURL:"http://localhost:8080"});s.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t?e.headers.token=t:i["a"].push("/login"),e}),(function(e){return Promise.reject(e)})),s.interceptors.response.use((function(e){if(e.data.code)switch(e.data.code){case 4004:window.localStorage.removeItem("token"),window.localStorage.removeItem("info"),i["a"].push("/login").catch((function(e){console.log(e)}));break;case 4003:Object(l["Message"])({showClose:!0,message:"权限不足",type:"warning"});break}return e}),(function(e){return Promise.reject(e.response.status)})),t["a"]=s},"428f":function(e,t,o){var a=o("da84");e.exports=a},"551f":function(e,t,o){},"5f4b":function(e,t,o){"use strict";o("551f")},"65f0":function(e,t,o){var a=o("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},"746f":function(e,t,o){var a=o("428f"),r=o("1a2d"),i=o("e538"),l=o("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});r(t,e)||l(t,e,{value:i.f(e)})}},a4d3:function(e,t,o){"use strict";var a=o("23e7"),r=o("da84"),i=o("d066"),l=o("2ba4"),s=o("c65b"),n=o("e330"),d=o("c430"),u=o("83ab"),c=o("4930"),p=o("d039"),m=o("1a2d"),f=o("e8b5"),h=o("1626"),g=o("861d"),b=o("3a9b"),v=o("d9b5"),y=o("825a"),F=o("7b0b"),I=o("fc6a"),w=o("a04b"),k=o("577e"),S=o("5c6c"),D=o("7c73"),N=o("df75"),_=o("241c"),U=o("057f"),$=o("7418"),x=o("06cf"),T=o("9bf2"),P=o("d1e7"),B=o("f36a"),H=o("6eeb"),O=o("5692"),V=o("f772"),C=o("d012"),W=o("90e3"),J=o("b622"),A=o("e538"),L=o("746f"),q=o("d44e"),M=o("69f3"),j=o("b727").forEach,R=V("hidden"),K="Symbol",E="prototype",Y=J("toPrimitive"),z=M.set,Q=M.getterFor(K),X=Object[E],Z=r.Symbol,G=Z&&Z[E],ee=r.TypeError,te=r.QObject,oe=i("JSON","stringify"),ae=x.f,re=T.f,ie=U.f,le=P.f,se=n([].push),ne=O("symbols"),de=O("op-symbols"),ue=O("string-to-symbol-registry"),ce=O("symbol-to-string-registry"),pe=O("wks"),me=!te||!te[E]||!te[E].findChild,fe=u&&p((function(){return 7!=D(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,o){var a=ae(X,t);a&&delete X[t],re(e,t,o),a&&e!==X&&re(X,t,a)}:re,he=function(e,t){var o=ne[e]=D(G);return z(o,{type:K,tag:e,description:t}),u||(o.description=t),o},ge=function(e,t,o){e===X&&ge(de,t,o),y(e);var a=w(t);return y(o),m(ne,a)?(o.enumerable?(m(e,R)&&e[R][a]&&(e[R][a]=!1),o=D(o,{enumerable:S(0,!1)})):(m(e,R)||re(e,R,S(1,{})),e[R][a]=!0),fe(e,a,o)):re(e,a,o)},be=function(e,t){y(e);var o=I(t),a=N(o).concat(we(o));return j(a,(function(t){u&&!s(ye,o,t)||ge(e,t,o[t])})),e},ve=function(e,t){return void 0===t?D(e):be(D(e),t)},ye=function(e){var t=w(e),o=s(le,this,t);return!(this===X&&m(ne,t)&&!m(de,t))&&(!(o||!m(this,t)||!m(ne,t)||m(this,R)&&this[R][t])||o)},Fe=function(e,t){var o=I(e),a=w(t);if(o!==X||!m(ne,a)||m(de,a)){var r=ae(o,a);return!r||!m(ne,a)||m(o,R)&&o[R][a]||(r.enumerable=!0),r}},Ie=function(e){var t=ie(I(e)),o=[];return j(t,(function(e){m(ne,e)||m(C,e)||se(o,e)})),o},we=function(e){var t=e===X,o=ie(t?de:I(e)),a=[];return j(o,(function(e){!m(ne,e)||t&&!m(X,e)||se(a,ne[e])})),a};if(c||(Z=function(){if(b(G,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,t=W(e),o=function(e){this===X&&s(o,de,e),m(this,R)&&m(this[R],t)&&(this[R][t]=!1),fe(this,t,S(1,e))};return u&&me&&fe(X,t,{configurable:!0,set:o}),he(t,e)},G=Z[E],H(G,"toString",(function(){return Q(this).tag})),H(Z,"withoutSetter",(function(e){return he(W(e),e)})),P.f=ye,T.f=ge,x.f=Fe,_.f=U.f=Ie,$.f=we,A.f=function(e){return he(J(e),e)},u&&(re(G,"description",{configurable:!0,get:function(){return Q(this).description}}),d||H(X,"propertyIsEnumerable",ye,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:Z}),j(N(pe),(function(e){L(e)})),a({target:K,stat:!0,forced:!c},{for:function(e){var t=k(e);if(m(ue,t))return ue[t];var o=Z(t);return ue[t]=o,ce[o]=t,o},keyFor:function(e){if(!v(e))throw ee(e+" is not a symbol");if(m(ce,e))return ce[e]},useSetter:function(){me=!0},useSimple:function(){me=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!u},{create:ve,defineProperty:ge,defineProperties:be,getOwnPropertyDescriptor:Fe}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:Ie,getOwnPropertySymbols:we}),a({target:"Object",stat:!0,forced:p((function(){$.f(1)}))},{getOwnPropertySymbols:function(e){return $.f(F(e))}}),oe){var ke=!c||p((function(){var e=Z();return"[null]"!=oe([e])||"{}"!=oe({a:e})||"{}"!=oe(Object(e))}));a({target:"JSON",stat:!0,forced:ke},{stringify:function(e,t,o){var a=B(arguments),r=t;if((g(t)||void 0!==e)&&!v(e))return f(t)||(t=function(e,t){if(h(r)&&(t=s(r,this,e,t)),!v(t))return t}),a[1]=t,l(oe,null,a)}})}if(!G[Y]){var Se=G.valueOf;H(G,Y,(function(e){return s(Se,this)}))}q(Z,K),C[R]=!0},b727:function(e,t,o){var a=o("0366"),r=o("e330"),i=o("44ad"),l=o("7b0b"),s=o("07fa"),n=o("65f0"),d=r([].push),u=function(e){var t=1==e,o=2==e,r=3==e,u=4==e,c=6==e,p=7==e,m=5==e||c;return function(f,h,g,b){for(var v,y,F=l(f),I=i(F),w=a(h,g),k=s(I),S=0,D=b||n,N=t?D(f,k):o||p?D(f,0):void 0;k>S;S++)if((m||S in I)&&(v=I[S],y=w(v,S,F),e))if(t)N[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:d(N,v)}else switch(e){case 4:return!1;case 7:d(N,v)}return c?-1:r||u?u:N}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},c57a:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.allLoading?e._e():o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.allLoading,expression:"allLoading"}],staticClass:"user-main"},[o("div",{staticClass:"user-main-left"},[o("div",{staticClass:"user-main-left-content"},[o("el-tree",{attrs:{data:e.deptData,"node-key":"id",props:e.defaultProps,"expand-on-click-node":!1,"default-expand-all":"",draggable:"","allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-click":e.handleNodeClick,"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,r=t.data;return o("span",{staticClass:"custom-tree-node"},[o("span",[e._v(e._s(a.label))]),o("span",[1==r.canEdit?o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{nativeOn:{click:function(t){return e.append(a)}}},[o("span",[e._v("新增")])]),o("el-dropdown-item",{nativeOn:{click:function(t){return e.remove(a)}}},[o("span",[e._v("删除")])]),o("el-dropdown-item",{nativeOn:{click:function(t){return e.updateName(r)}}},[o("span",[e._v("修改")])]),o("el-dropdown-item",{nativeOn:{click:function(t){return e.setPrincipal(r)}}},[o("span",[e._v("设置负责人")])])],1)],1):e._e()],1)])}}],null,!1,2280138974)}),o("el-dialog",{attrs:{width:"30%",title:"新增部门","lock-scroll":"",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},["village"==e.addDeptType?o("div",[o("el-form",{ref:"addTownShipForm",attrs:{model:e.addVillageForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"村名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addVillageForm.deptName,callback:function(t){e.$set(e.addVillageForm,"deptName",t)},expression:"addVillageForm.deptName"}})],1),o("el-form-item",{attrs:{label:"村序号",prop:"townshipOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addVillageForm.villageOrder,callback:function(t){e.$set(e.addVillageForm,"villageOrder",t)},expression:"addVillageForm.villageOrder"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.addVillageForm.description,callback:function(t){e.$set(e.addVillageForm,"description",t)},expression:"addVillageForm.description"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddTownship("addTownShipForm")}}},[e._v("立即创建 ")]),o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1):e._e(),"society"==e.addDeptType?o("div",[o("el-form",{ref:"addSocietyForm",attrs:{model:e.addSocietyForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"社名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addSocietyForm.deptName,callback:function(t){e.$set(e.addSocietyForm,"deptName",t)},expression:"addSocietyForm.deptName"}})],1),o("el-form-item",{attrs:{label:"社序号",prop:"societyOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addSocietyForm.societyOrder,callback:function(t){e.$set(e.addSocietyForm,"societyOrder",t)},expression:"addSocietyForm.societyOrder"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.addSocietyForm.description,callback:function(t){e.$set(e.addSocietyForm,"description",t)},expression:"addSocietyForm.description"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddSociety("addSocietyForm")}}},[e._v("立即创建 ")]),o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1):e._e(),"household"==e.addDeptType?o("div",[o("el-form",{ref:"addHouseholdForm",attrs:{model:e.addHouseholdForm,rules:e.deptRule,"label-position":"right","label-width":"100px"}},[o("el-form-item",{attrs:{label:"户名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addHouseholdForm.deptName,callback:function(t){e.$set(e.addHouseholdForm,"deptName",t)},expression:"addHouseholdForm.deptName"}})],1),o("el-form-item",{attrs:{label:"户序号",prop:"householdOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addHouseholdForm.householdOrder,callback:function(t){e.$set(e.addHouseholdForm,"householdOrder",t)},expression:"addHouseholdForm.householdOrder"}})],1),o("el-form-item",{attrs:{label:"户籍",prop:"householdAddr"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.addHouseholdForm.householdAddr,callback:function(t){e.$set(e.addHouseholdForm,"householdAddr",t)},expression:"addHouseholdForm.householdAddr"}})],1),o("el-form-item",{attrs:{label:"收入来源",prop:"takeInSource"}},[o("el-select",{attrs:{"allow-create":"",filterable:"","default-first-option":"",placeholder:"请选择或输入收入来源"},model:{value:e.addHouseholdForm.takeInSource,callback:function(t){e.$set(e.addHouseholdForm,"takeInSource",t)},expression:"addHouseholdForm.takeInSource"}},e._l(e.takeInSourceOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1),o("el-form-item",{attrs:{label:"低保户",prop:"diBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addHouseholdForm.diBao,callback:function(t){e.$set(e.addHouseholdForm,"diBao",t)},expression:"addHouseholdForm.diBao"}})],1),o("el-form-item",{attrs:{label:"立档建卡",prop:"liDangJianKa"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addHouseholdForm.liDangJianKa,callback:function(t){e.$set(e.addHouseholdForm,"liDangJianKa",t)},expression:"addHouseholdForm.liDangJianKa"}})],1),o("el-form-item",{attrs:{label:"五保户",prop:"wuBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addHouseholdForm.wuBao,callback:function(t){e.$set(e.addHouseholdForm,"wuBao",t)},expression:"addHouseholdForm.wuBao"}})],1),o("el-form-item",{attrs:{label:"脱贫不稳定户",prop:"tuoPinBuWenDing"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addHouseholdForm.tuoPinBuWenDing,callback:function(t){e.$set(e.addHouseholdForm,"tuoPinBuWenDing",t)},expression:"addHouseholdForm.tuoPinBuWenDing"}})],1),e.addHouseholdForm.tuoPinBuWenDing?o("el-form-item",{attrs:{label:"不稳定类型",prop:"tuoPinBuWenDingType"}},[o("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"请选择不稳定类型"},model:{value:e.addHouseholdForm.tuoPinBuWenDingType,callback:function(t){e.$set(e.addHouseholdForm,"tuoPinBuWenDingType",t)},expression:"addHouseholdForm.tuoPinBuWenDingType"}},e._l(e.tuoPinBuWenDingOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1):e._e()],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAddHousehold("addHouseholdForm")}}},[e._v("立即创建 ")]),o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1):e._e()]),o("el-dialog",{attrs:{width:"30%",title:"修改部门",visible:e.dialogUpdateVisible,"lock-scroll":""},on:{"update:visible":function(t){e.dialogUpdateVisible=t}}},["township"==e.updateDeptType?o("div",[o("el-form",{ref:"updateTownshipForm",attrs:{model:e.updateTownshipForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"乡镇名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateTownshipForm.deptName,callback:function(t){e.$set(e.updateTownshipForm,"deptName",t)},expression:"updateTownshipForm.deptName"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"townshipInfoSub.description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.updateTownshipForm.townshipInfoSub.description,callback:function(t){e.$set(e.updateTownshipForm.townshipInfoSub,"description",t)},expression:"updateTownshipForm.townshipInfoSub.description"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUpdateDept("updateTownshipForm")}}},[e._v("立即修改 ")]),o("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")])],1)],1):e._e(),"village"==e.updateDeptType?o("div",[o("el-form",{ref:"updateVillageForm",attrs:{model:e.updateVillageForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"村名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateVillageForm.deptName,callback:function(t){e.$set(e.updateVillageForm,"deptName",t)},expression:"updateVillageForm.deptName"}})],1),o("el-form-item",{attrs:{label:"村序号",prop:"villageInfoSub.villageOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateVillageForm.villageInfoSub.villageOrder,callback:function(t){e.$set(e.updateVillageForm.villageInfoSub,"villageOrder",t)},expression:"updateVillageForm.villageInfoSub.villageOrder"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"villageInfoSub.description"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.updateVillageForm.villageInfoSub.description,callback:function(t){e.$set(e.updateVillageForm.villageInfoSub,"description",t)},expression:"updateVillageForm.villageInfoSub.description"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUpdateDept("updateVillageForm")}}},[e._v("立即修改 ")]),o("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")])],1)],1):e._e(),"society"==e.updateDeptType?o("div",[o("el-form",{ref:"updateSocietyForm",attrs:{model:e.updateSocietyForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"社名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateSocietyForm.deptName,callback:function(t){e.$set(e.updateSocietyForm,"deptName",t)},expression:"updateSocietyForm.deptName"}})],1),o("el-form-item",{attrs:{label:"社序号",prop:"societyInfoSub.societyOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateSocietyForm.societyInfoSub.societyOrder,callback:function(t){e.$set(e.updateSocietyForm.societyInfoSub,"societyOrder",t)},expression:"updateSocietyForm.societyInfoSub.societyOrder"}})],1),o("el-form-item",{attrs:{label:"描述",prop:"societyInfoSub.description"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateSocietyForm.societyInfoSub.description,callback:function(t){e.$set(e.updateSocietyForm.societyInfoSub,"description",t)},expression:"updateSocietyForm.societyInfoSub.description"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUpdateDept("updateSocietyForm")}}},[e._v("立即修改 ")]),o("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")])],1)],1):e._e(),"household"==e.updateDeptType?o("div",[o("el-form",{ref:"updateHouseholdForm",attrs:{model:e.updateHouseholdForm,rules:e.deptRule}},[o("el-form-item",{attrs:{label:"户名称",prop:"deptName"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateHouseholdForm.deptName,callback:function(t){e.$set(e.updateHouseholdForm,"deptName",t)},expression:"updateHouseholdForm.deptName"}})],1),o("el-form-item",{attrs:{label:"户序号",prop:"householdInfoSub.householdOrder"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateHouseholdForm.householdInfoSub.householdOrder,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"householdOrder",t)},expression:"updateHouseholdForm.householdInfoSub.householdOrder"}})],1),o("el-form-item",{attrs:{label:"户籍",prop:"householdInfoSub.householdAddr"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.updateHouseholdForm.householdInfoSub.householdAddr,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"householdAddr",t)},expression:"updateHouseholdForm.householdInfoSub.householdAddr"}})],1),o("el-form-item",{attrs:{label:"收入来源",prop:"householdInfoSub.takeInSource"}},[o("el-select",{attrs:{"allow-create":"",filterable:"","default-first-option":"",placeholder:"请选择或输入收入来源"},model:{value:e.updateHouseholdForm.householdInfoSub.takeInSource,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"takeInSource",t)},expression:"updateHouseholdForm.householdInfoSub.takeInSource"}},e._l(e.takeInSourceOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1),o("el-form-item",{attrs:{label:"低保户",prop:"diBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.updateHouseholdForm.householdInfoSub.diBao,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"diBao",t)},expression:"updateHouseholdForm.householdInfoSub.diBao"}})],1),o("el-form-item",{attrs:{label:"立档建卡",prop:"liDangJianKa"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.updateHouseholdForm.householdInfoSub.liDangJianKa,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"liDangJianKa",t)},expression:"updateHouseholdForm.householdInfoSub.liDangJianKa"}})],1),o("el-form-item",{attrs:{label:"五保户",prop:"wuBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.updateHouseholdForm.householdInfoSub.wuBao,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"wuBao",t)},expression:"updateHouseholdForm.householdInfoSub.wuBao"}})],1),o("el-form-item",{attrs:{label:"脱贫不稳定户",prop:"tuoPinBuWenDing"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.updateHouseholdForm.householdInfoSub.tuoPinBuWenDing,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"tuoPinBuWenDing",t)},expression:"updateHouseholdForm.householdInfoSub.tuoPinBuWenDing"}})],1),e.updateHouseholdForm.householdInfoSub.tuoPinBuWenDing?o("el-form-item",{attrs:{label:"不稳定类型",prop:"tuoPinBuWenDingType"}},[o("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"请选择不稳定类型"},model:{value:e.updateHouseholdForm.householdInfoSub.tuoPinBuWenDingType,callback:function(t){e.$set(e.updateHouseholdForm.householdInfoSub,"tuoPinBuWenDingType",t)},expression:"updateHouseholdForm.householdInfoSub.tuoPinBuWenDingType"}},e._l(e.tuoPinBuWenDingOptions,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1):e._e()],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUpdateDept("updateHouseholdForm")}}},[e._v("立即修改 ")]),o("el-button",{on:{click:function(t){e.dialogUpdateVisible=!1}}},[e._v("取 消")])],1)],1):e._e()]),o("el-dialog",{attrs:{width:"50%",title:"设置部门负责人",visible:e.dialogSetPrincipalVisible},on:{"update:visible":function(t){e.dialogSetPrincipalVisible=t}}},[o("div",{staticClass:"set-principal-dialog"},[o("div",{staticClass:"set-principal-dialog-left"},[o("el-form",{attrs:{model:e.setPrincipalForm}},[o("el-form-item",{attrs:{prop:"deptName"}},[o("el-select",{staticStyle:{width:"90%"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"","collapse-tags":"",placeholder:"请输入姓名或账号以搜索...","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.change},model:{value:e.setPrincipalForm.userIds,callback:function(t){e.$set(e.setPrincipalForm,"userIds",t)},expression:"setPrincipalForm.userIds"}},e._l(e.options,(function(e){return o("el-option",{key:e.userId,attrs:{disabled:e.disabled,label:e.realName+"-"+e.account,value:e.userId}})})),1)],1)],1)],1),o("div",{staticClass:"set-principal-dialog-right"},[o("div",{staticClass:"set-principal-dialog-right-top"},[o("h3",[e._v("已选择人员:")]),e._l(e.selectNames,(function(t){return o("el-tag",{key:t,attrs:{type:"info"}},[e._v(e._s(t))])}))],2),o("div",{staticClass:"set-principal-dialog-right-bottom"},[o("h3",[e._v("已有人员:")]),e._l(e.selectedNames,(function(t){return o("el-tag",{key:t.baseInfoId,attrs:{closable:"",type:"success"},on:{close:function(o){return e.closeTag(t.myUserId)}}},[e._v(e._s(t.realName)+" ")])}))],2)])]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",disabled:e.selectNames.length<1},on:{click:e.submitPrincipalDept}},[e._v("确定 ")]),o("el-button",{on:{click:function(t){e.dialogSetPrincipalVisible=!1}}},[e._v("取 消")])],1)])],1)]),o("div",{staticClass:"user-main-right"},[1==e.deptData[0].canEdit?o("div",{staticClass:"user-tool"},[o("div",[o("el-button",{attrs:{type:"success"},on:{click:function(t){e.addUserPanel=!e.addUserPanel}}},[e._v("添加用户"),o("i",{staticClass:"el-icon-circle-plus el-icon--right"})]),o("el-button",{attrs:{type:"primary"}},[e._v("批量导入"),o("i",{staticClass:"el-icon-upload el-icon--right"})])],1)]):e._e(),o("el-divider"),o("div",{staticClass:"user-content"},[e.addUserPanel?o("div",[e.showDeptInfo?o("div",{staticStyle:{"margin-left":"4%","margin-right":"4%"}},[0==e.currentNode.level||null==e.currentNode.level?o("div",[o("el-descriptions",{attrs:{title:"乡镇信息:",column:1,border:""}},[o("el-descriptions-item",{attrs:{label:"乡镇名","label-style":{"white-space":"nowrap"}}},[e._v(e._s(e.currentNode.label)+" ")]),o("el-descriptions-item",{attrs:{label:"描述","label-style":{"white-space":"nowrap"}}},[e._v(e._s(e.townshipInfo.description)+" ")])],1)],1):1==e.currentNode.level?o("div",[o("el-descriptions",{attrs:{title:"村信息:",border:""}},[o("el-descriptions-item",{attrs:{label:"村名"}},[e._v(e._s(e.currentNode.label))]),o("el-descriptions-item",{attrs:{label:"村序号"}},[e._v(e._s(e.villageInfo.villageOrder))]),o("el-descriptions-item",{attrs:{label:"描述"}},[e._v(e._s(e.villageInfo.description))])],1)],1):2==e.currentNode.level?o("div",[o("el-descriptions",{attrs:{title:"社信息:",border:""}},[o("el-descriptions-item",{attrs:{label:"社名"}},[e._v(e._s(e.currentNode.label))]),o("el-descriptions-item",{attrs:{label:"社序号"}},[e._v(e._s(e.societyInfo.societyOrder))]),o("el-descriptions-item",{attrs:{label:"描述"}},[e._v(e._s(e.societyInfo.description))])],1)],1):3==e.currentNode.level?o("div",[o("el-descriptions",{attrs:{title:"户信息:",border:""}},[o("el-descriptions-item",{attrs:{label:"户名"}},[e._v(e._s(e.currentNode.label))]),o("el-descriptions-item",{attrs:{label:"户号"}},[e._v(e._s(e.householdInfo.householdOrder))]),o("el-descriptions-item",{attrs:{label:"户籍地址"}},[e._v(e._s(e.householdInfo.householdAddr))]),o("el-descriptions-item",{attrs:{label:"家庭主要收入来源"}},[e._v(e._s(e.householdInfo.takeInSource))]),o("el-descriptions-item",{attrs:{label:"低保户"}},[e._v(e._s(e.householdInfo.diBao?"是":"否"))]),o("el-descriptions-item",{attrs:{label:"立档建卡户"}},[e._v(e._s(e.householdInfo.liDangJianKa?"是":"否"))]),o("el-descriptions-item",{attrs:{label:"五保户"}},[e._v(e._s(e.householdInfo.wuBao?"是":"否"))]),o("el-descriptions-item",{attrs:{label:"脱贫不稳定户"}},[e._v(e._s(e.householdInfo.tuoPinBuWenDing?"是":"否"))]),e.householdInfo.tuoPinBuWenDing?o("el-descriptions-item",{attrs:{label:"脱贫不稳定类型"}},[e._v(" "+e._s(e.householdInfo.tuoPinBuWenDingType)+" ")]):e._e()],1)],1):e._e()]):e._e(),o("el-table",{staticStyle:{width:"95%",margin:"0 auto"},attrs:{"max-height":"750px",data:e.tableData.filter((function(t){return!e.search||t.realName.toLowerCase().includes(e.search.toLowerCase())}))}},[o("el-table-column",{attrs:{label:"账号",prop:"account"}}),o("el-table-column",{attrs:{label:"姓名",prop:"realName"}}),o("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(0==t.row.gender?"女":"男")+" ")]}}],null,!1,2444679955)}),o("el-table-column",{attrs:{label:"与户主关系"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.relation)+" "),t.row.host?o("i",{staticClass:"el-icon-s-custom",staticStyle:{color:"wheat"}}):e._e()]}}],null,!1,1823998530)}),o("el-table-column",{attrs:{label:"手机",prop:"phone"}}),o("el-table-column",{attrs:{label:"地址",prop:"addr"}}),o("el-table-column",{attrs:{label:"组织",prop:"deptName"}}),o("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"header",fn:function(t){return[o("el-input",{attrs:{size:"mini",placeholder:"输入姓名搜索"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",round:""},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑 ")]),1==e.deptData[0].canEdit?o("el-button",{attrs:{size:"mini",type:"danger",round:""},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")]):e._e()]}}],null,!1,901229621)},[e._v(" eslint-disable ")])],1)],1):o("div",{staticClass:"add-user"},[o("el-form",{ref:"addUserForm",staticClass:"demo-ruleForm",attrs:{model:e.addUserForm,rules:e.rules,"label-width":"120px"}},[o("h4",[e._v("基础信息")]),o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{model:{value:e.addUserForm.username,callback:function(t){e.$set(e.addUserForm,"username",t)},expression:"addUserForm.username"}})],1),o("el-form-item",{attrs:{label:"真实姓名",prop:"realName"}},[o("el-input",{model:{value:e.addUserForm.realName,callback:function(t){e.$set(e.addUserForm,"realName",t)},expression:"addUserForm.realName"}})],1),o("el-form-item",{attrs:{label:"组织架构",prop:"dept"}},[o("el-cascader",{attrs:{options:e.deptData,props:{expandTrigger:"hover",checkStrictly:!0,value:"id"}},model:{value:e.addUserForm.dept,callback:function(t){e.$set(e.addUserForm,"dept",t)},expression:"addUserForm.dept"}})],1),o("el-form-item",{attrs:{label:"手机",prop:"phone"}},[o("el-input",{model:{value:e.addUserForm.phone,callback:function(t){e.$set(e.addUserForm,"phone",t)},expression:"addUserForm.phone"}})],1),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"男","inactive-text":"女"},model:{value:e.addUserForm.gender,callback:function(t){e.$set(e.addUserForm,"gender",t)},expression:"addUserForm.gender"}})],1),o("el-form-item",{attrs:{label:"住址",prop:"addr"}},[o("el-input",{model:{value:e.addUserForm.addr,callback:function(t){e.$set(e.addUserForm,"addr",t)},expression:"addUserForm.addr"}})],1),o("el-form-item",{attrs:{label:"是否户主",prop:"isHost"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},model:{value:e.addUserForm.isHost,callback:function(t){e.$set(e.addUserForm,"isHost",t)},expression:"addUserForm.isHost"}})],1),o("el-form-item",{attrs:{label:"与户主关系",prop:"relation"}},[o("el-input",{attrs:{disabled:e.addUserForm.isHost},model:{value:e.addUserForm.relation,callback:function(t){e.$set(e.addUserForm,"relation",t)},expression:"addUserForm.relation"}})],1),o("el-form-item",{attrs:{label:"身份证号",prop:"idCardNum",rules:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/^[1-9]\d{5}(18|19|20|(3\d))\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,message:"请输入正确的身份证号码"}]}},[o("el-input",{model:{value:e.addUserForm.idCardNum,callback:function(t){e.$set(e.addUserForm,"idCardNum",t)},expression:"addUserForm.idCardNum"}})],1),o("el-form-item",{attrs:{label:"民族",prop:"nation",rules:[{required:!0,message:"请选择民族",trigger:"blur"}]}},[o("el-select",{attrs:{filterable:"",placeholder:"请选择民族"},model:{value:e.addUserForm.nation,callback:function(t){e.$set(e.addUserForm,"nation",t)},expression:"addUserForm.nation"}},e._l(e.nations,(function(e){return o("el-option",{key:e.nationId,attrs:{label:e.nationName,value:e.nationName}})})),1)],1),o("el-divider"),o("h4",[e._v("特别身份信息")]),o("el-form-item",{attrs:{label:"是否低保",prop:"specialIdentity.isDiBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addUserForm.specialIdentity.isDiBao,callback:function(t){e.$set(e.addUserForm.specialIdentity,"isDiBao",t)},expression:"addUserForm.specialIdentity.isDiBao"}})],1),e.addUserForm.specialIdentity.isDiBao?o("el-form-item",{attrs:{label:"低保金额",prop:"specialIdentity.diBaoMoney"}},[o("el-input",{model:{value:e.addUserForm.specialIdentity.diBaoMoney,callback:function(t){e.$set(e.addUserForm.specialIdentity,"diBaoMoney",t)},expression:"addUserForm.specialIdentity.diBaoMoney"}})],1):e._e(),o("el-form-item",{attrs:{label:"是否五保",prop:"specialIdentity.isWuBao"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addUserForm.specialIdentity.isWuBao,callback:function(t){e.$set(e.addUserForm.specialIdentity,"isWuBao",t)},expression:"addUserForm.specialIdentity.isWuBao"}})],1),e.addUserForm.specialIdentity.isWuBao?o("el-form-item",{attrs:{label:"五保金额",prop:"specialIdentity.wuBaoMoney"}},[o("el-input",{model:{value:e.addUserForm.specialIdentity.wuBaoMoney,callback:function(t){e.$set(e.addUserForm.specialIdentity,"wuBaoMoney",t)},expression:"addUserForm.specialIdentity.wuBaoMoney"}})],1):e._e(),o("el-form-item",{attrs:{label:"是否残疾",prop:"specialIdentity.isCanJi"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addUserForm.specialIdentity.isCanJi,callback:function(t){e.$set(e.addUserForm.specialIdentity,"isCanJi",t)},expression:"addUserForm.specialIdentity.isCanJi"}})],1),e.addUserForm.specialIdentity.isCanJi?o("el-form-item",{attrs:{label:"残疾等级",prop:"specialIdentity.isCanJi"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addUserForm.specialIdentity.canJiLevel,callback:function(t){e.$set(e.addUserForm.specialIdentity,"canJiLevel",t)},expression:"addUserForm.specialIdentity.canJiLevel"}},[o("el-option",{attrs:{label:"一级",value:"一级"}}),o("el-option",{attrs:{label:"二级",value:"二级"}}),o("el-option",{attrs:{label:"三级",value:"三级"}}),o("el-option",{attrs:{label:"四级",value:"四级"}}),o("el-option",{attrs:{label:"五级",value:"五级"}}),o("el-option",{attrs:{label:"六级",value:"六级"}}),o("el-option",{attrs:{label:"七级",value:"七级"}}),o("el-option",{attrs:{label:"八级",value:"八级"}}),o("el-option",{attrs:{label:"九级",value:"九级"}}),o("el-option",{attrs:{label:"十级",value:"十级"}})],1)],1):e._e(),e.addUserForm.specialIdentity.isCanJi?o("el-form-item",{attrs:{label:"残疾补贴",prop:"specialIdentity.isCanJi"}},[o("el-input",{model:{value:e.addUserForm.specialIdentity.canJiMoney,callback:function(t){e.$set(e.addUserForm.specialIdentity,"canJiMoney",t)},expression:"addUserForm.specialIdentity.canJiMoney"}})],1):e._e(),o("el-form-item",{attrs:{label:"是否党员",prop:"specialIdentity.isDangYuan"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addUserForm.specialIdentity.isDangYuan,callback:function(t){e.$set(e.addUserForm.specialIdentity,"isDangYuan",t)},expression:"addUserForm.specialIdentity.isDangYuan"}})],1),o("el-form-item",{attrs:{label:"是否退伍军人",prop:"specialIdentity.isTuiWuJunRen"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.addUserForm.specialIdentity.isTuiWuJunRen,callback:function(t){e.$set(e.addUserForm.specialIdentity,"isTuiWuJunRen",t)},expression:"addUserForm.specialIdentity.isTuiWuJunRen"}})],1),o("el-divider"),o("h4",[e._v("工作情况信息")]),o("el-form-item",{attrs:{label:"工作类型",prop:"nation"}},[o("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择或输入工作类型"},model:{value:e.addUserForm.workCircumstances.workType,callback:function(t){e.$set(e.addUserForm.workCircumstances,"workType",t)},expression:"addUserForm.workCircumstances.workType"}},e._l(e.workType,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1),o("el-form-item",{attrs:{label:"工作区域",prop:"nation"}},[o("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择或输入工作区域"},model:{value:e.addUserForm.workCircumstances.workArea,callback:function(t){e.$set(e.addUserForm.workCircumstances,"workArea",t)},expression:"addUserForm.workCircumstances.workArea"}},e._l(e.workArea,(function(e){return o("el-option",{key:e.id,attrs:{label:e.label,value:e.label}})})),1)],1),o("el-form-item",{attrs:{label:"工作地点",prop:"nation"}},[o("el-input",{attrs:{placeholder:"请输入单位地址或学校名称"},model:{value:e.addUserForm.workCircumstances.workAddr,callback:function(t){e.$set(e.addUserForm.workCircumstances,"workAddr",t)},expression:"addUserForm.workCircumstances.workAddr"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addUserForm")}}},[e._v("立即创建")]),o("el-button",{on:{click:function(t){return e.resetForm("addUserForm")}}},[e._v("重置")])],1)],1)],1)])],1)])},r=[],i=(o("e9c4"),o("a4d3"),o("e01a"),o("284b")),l={data:function(){return{allLoading:!0,search:"",defaultProps:{children:"children",label:"label",value:"id"},deptData:[],tableData:[],ids:[],addUserPanel:!0,addUserForm:{username:"",realName:"",phone:"",gender:!0,addr:"",isHost:!1,relation:this.isHost?"户主":"",dept:[],idCardNum:"",nation:"",jvZhuQingKuang:"",specialIdentity:{isDiBao:!1,isWuBao:!1,isCanJi:!1,isDangYuan:!1,isTuiWuJunRen:!1,diBaoMoney:0,wuBaoMoney:0,canJiLevel:"一级",canJiMoney:0},workCircumstances:{workType:"",workArea:"",workAddr:""}},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:5,max:20,message:"长度在 5 到 20 个字符",trigger:"blur"}],realName:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],dept:[{required:!0,message:"请选择部门",trigger:"change"}],phone:[{required:!0,message:"请输入手机",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"目前只支持中国大陆的手机号码"}],addr:[{required:!0,message:"请输入住址",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],relation:[{required:!0,message:"请输入关系",trigger:"blur"}]},deptRule:{deptName:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],townshipOrder:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],"villageInfoSub.villageOrder":[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],"householdInfoSub.householdOrder":[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],"householdInfoSub.householdAddr":[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],"societyInfoSub.societyOrder":[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],societyOrder:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],householdOrder:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],householdAddr:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],takeInSource:[{required:!0,message:"请选择或输入部门名称",trigger:"blur"}]},dialogFormVisible:!1,dialogUpdateVisible:!1,dialogSetPrincipalVisible:!1,addVillageForm:{deptName:"",deptParentId:0,villageOrder:"",description:"",type:"village"},addSocietyForm:{deptName:"",deptParentId:0,societyOrder:"",description:"",type:"society"},addHouseholdForm:{deptName:"",deptParentId:0,householdOrder:"",householdAddr:"",takeInSource:"",diBao:!1,liDangJianKa:!1,wuBao:!1,tuoPinBuWenDing:!1,tuoPinBuWenDingType:"",type:"household"},takeInSourceOptions:[],tuoPinBuWenDingOptions:[],updateTownshipForm:{deptId:0,deptName:"",townshipInfoSub:{id:0,description:"",deptId:0},type:"township"},updateVillageForm:{deptId:0,deptName:"",villageInfoSub:{id:0,description:"",villageOrder:"",deptId:0},type:"village"},updateSocietyForm:{deptId:0,deptName:"",societyInfoSub:{id:0,description:"",societyOrder:"",deptId:0},type:"society"},updateHouseholdForm:{deptId:0,deptName:"",householdInfoSub:{id:0,deptId:0,householdOrder:"",householdAddr:"",takeInSource:"",diBao:!1,liDangJianKa:!1,wuBao:!1,tuoPinBuWenDing:!1,tuoPinBuWenDingType:""},type:"household"},setPrincipalForm:{deptId:0,userIds:[]},options:[],loading:!1,selectNames:[],selectedNames:[],currentNode:{id:null,label:null,level:null},townshipInfo:{},villageInfo:{},societyInfo:{},householdInfo:{},addDeptType:"",showDeptInfo:!1,updateDeptType:"",nations:[],workArea:[],workType:[]}},watch:{"addUserForm.isHost":{handler:function(e,t){e&&(this.addUserForm.relation="户主"),t&&(this.addUserForm.relation="")},deep:!0},"addHouseholdForm.tuoPinBuWenDing":{handler:function(e){e||(this.addHouseholdForm.tuoPinBuWenDingType="")},deep:!0},"updateHouseholdForm.householdInfo.tuoPinBuWenDing":{handler:function(e){e||(this.updateHouseholdForm.householdInfo.tuoPinBuWenDingType="")},deep:!0}},methods:{handleEdit:function(){},handleDelete:function(){},handleNodeClick:function(e){this.showDeptInfo=!1,this.$set(this.currentNode,"id",e.id),this.$set(this.currentNode,"label",e.label),this.$set(this.currentNode,"level",e.deptLevel),this.getCurrentDeptInfo(e),this.ids=[],this.ids.push(e.id),this.getUserByDeptId()},getCurrentDeptInfo:function(e){switch(e.deptLevel){case 0:this.getTownShipInfo(e.id);break;case 1:this.getVillageInfo(e.id);break;case 2:this.getSocietyInfo(e.id);break;case 3:this.getHouseholdInfo(e.id);break}},getNations:function(){var e=this;i["a"].get("/getNations").then((function(t){200==t.data.code?e.nations=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},getWorkType:function(){var e=this;i["a"].get("/getWorkTypes").then((function(t){200==t.data.code?e.workType=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},getWorkArea:function(){var e=this;i["a"].get("/getWorkAreas").then((function(t){200==t.data.code?e.workArea=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},getInitInfo:function(){var e=this;i["a"].get("/dept/getTownshipInfo/999999999").then((function(t){200==t.data.code?(e.townshipInfo=t.data.data,e.showDeptInfo=!0):e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},getTownShipInfo:function(e){var t=this;i["a"].get("/dept/getTownshipInfo/"+e).then((function(e){if(200==e.data.code){t.townshipInfo=e.data.data,t.showDeptInfo=!0;var o=JSON.stringify(t.townshipInfo);t.updateTownshipForm.townshipInfoSub=JSON.parse(o)}else t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},getVillageInfo:function(e){var t=this;i["a"].get("/dept/getVillageInfo/"+e).then((function(e){if(200==e.data.code){t.villageInfo=e.data.data,t.showDeptInfo=!0;var o=JSON.stringify(t.villageInfo);t.updateVillageForm.villageInfoSub=JSON.parse(o)}else t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},getSocietyInfo:function(e){var t=this;i["a"].get("/dept/getSocietyInfo/"+e).then((function(e){if(200==e.data.code){t.societyInfo=e.data.data,t.showDeptInfo=!0;var o=JSON.stringify(t.societyInfo);t.updateSocietyForm.societyInfoSub=JSON.parse(o)}else t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},getHouseholdInfo:function(e){var t=this;i["a"].get("/dept/getHouseholdInfo/"+e).then((function(e){if(200==e.data.code){t.householdInfo=e.data.data,t.showDeptInfo=!0;var o=JSON.stringify(t.householdInfo);t.updateHouseholdForm.householdInfoSub=JSON.parse(o)}else t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},getTakeInSourceOptions:function(){var e=this;i["a"].get("/getTakeInSourceTypes").then((function(t){200==t.data.code?e.takeInSourceOptions=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},getTuoPinBuWenDingOptions:function(){var e=this;i["a"].get("/getTuoPinBuWenDingTypes").then((function(t){200==t.data.code?e.tuoPinBuWenDingOptions=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i["a"].post("user/addUser",t.addUserForm).then((function(e){200==e.data.code&&(t.$message.success("添加成功"),t.addUserPanel=!t.addUserPanel,t.getUserByDeptId())})).catch((function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()},getUserByDeptId:function(){var e=this;i["a"].post("/user/getUserByDeptId",this.ids).then((function(t){t.data.data&&(e.tableData=t.data.data)}))},append:function(e){3==e.data.deptLevel?this.$message.warning("无法添加更下级组织"):(0==e.data.deptLevel?(this.addVillageForm.deptParentId=e.data.id,this.addDeptType="village"):1==e.data.deptLevel?(this.addSocietyForm.deptParentId=e.data.id,this.addDeptType="society"):2==e.data.deptLevel&&(this.addHouseholdForm.deptParentId=e.data.id,this.addDeptType="household"),this.dialogFormVisible=!0)},submitAddTownship:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i["a"].post("dept/addDept",t.addVillageForm).catch((function(e){console.log(e)})).then((function(e){200==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"添加成功",type:"success"}),t.addVillageForm.deptParentId=0,t.addVillageForm.deptName="",t.addVillageForm.description="",t.getTree()):t.$message.error(e.data.message)}))}))},submitAddSociety:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i["a"].post("dept/addDept",t.addSocietyForm).catch((function(e){console.log(e)})).then((function(e){200==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"添加成功",type:"success"}),t.addSocietyForm.deptParentId=0,t.addSocietyForm.deptName="",t.addSocietyForm.description="",t.getTree()):t.$message.error(e.data.message)}))}))},submitAddHousehold:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;i["a"].post("dept/addDept",t.addHouseholdForm).catch((function(e){console.log(e)})).then((function(e){200==e.data.code?(t.dialogFormVisible=!1,t.$message({message:"添加成功",type:"success"}),t.addHouseholdForm={deptName:"",deptParentId:0,householdOrder:"",householdAddr:"",takeInSource:"",diBao:!1,liDangJianKa:!1,wuBao:!1,tuoPinBuWenDing:!1,tuoPinBuWenDingType:"",type:"household"},t.getTree()):t.$message.error(e.data.message)}))}))},submitUpdateDept:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;switch(t.updateDeptType){case"township":i["a"].post("/dept/updateNameAndInfo",t.updateTownshipForm).then((function(e){200==e.data.code?(t.$message.success("修改成功"),t.dialogUpdateVisible=!1,t.getTree(),t.getTownShipInfo(t.updateTownshipForm.deptId)):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}));break;case"village":i["a"].post("/dept/updateNameAndInfo",t.updateVillageForm).then((function(e){200==e.data.code?(t.$message.success("修改成功"),t.dialogUpdateVisible=!1,t.getTree(),t.getVillageInfo(t.updateVillageForm.deptId)):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}));break;case"society":i["a"].post("/dept/updateNameAndInfo",t.updateSocietyForm).then((function(e){200==e.data.code?(t.$message.success("修改成功"),t.dialogUpdateVisible=!1,t.getTree(),t.getSocietyInfo(t.updateSocietyForm.deptId)):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}));break;case"household":i["a"].post("/dept/updateNameAndInfo",t.updateHouseholdForm).then((function(e){200==e.data.code?(t.$message.success("修改成功"),t.dialogUpdateVisible=!1,t.getTree(),t.getHouseholdInfo(t.updateHouseholdForm.deptId)):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}));break}}))},remove:function(e){var t=this;i["a"].get("/dept/deleteDept/"+e.data.id).then((function(e){200==e.data.code?(t.$message({message:"删除成功",type:"success"}),t.getTree()):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},getTree:function(){var e=this;i["a"].get("/dept/getTree").then((function(t){e.deptData=t.data.data,console.log(e.deptData),e.currentNode.level=e.deptData[0].deptLevel,e.currentNode.label=e.deptData[0].label,e.currentNode.id=e.deptData[0].id,e.allLoading=!1})).catch((function(e){console.log(e)}))},handleDrop:function(e,t,o){var a=this,r=e.data.id,l=t.data.id;"inner"==o?i["a"].get("/dept/updateDept/"+r+"/"+l+"/1").catch((function(e){console.log(e)})).then((function(e){200==e.data.code&&a.getTree()})):(2==e.data.deptLevel&&2==t.data.deptLevel||3==e.data.deptLevel&&3==t.data.deptLevel)&&i["a"].get("/dept/updateDept/"+r+"/"+l+"/2").catch((function(e){console.log(e)})).then((function(e){200==e.data.code&&a.getTree()}))},allowDrop:function(e,t,o){return 2==e.data.deptLevel?1==t.data.deptLevel?"inner"==o:2==t.data.deptLevel&&("prev"===o||"next"===o):1==e.data.deptLevel&&1==t.data.deptLevel?"prev"==o||"next"==o:3==e.data.deptLevel&&(2==t.data.deptLevel?"inner"==o:3==t.data.deptLevel&&("prev"==o||"next"==o))},allowDrag:function(e){return 0!=e.data.deptLevel},setPrincipal:function(e){this.dialogSetPrincipalVisible=!0,this.setPrincipalForm.deptId=e.id,this.getPrincipal(),this.setPrincipalForm.userIds=[],this.options=[]},getPrincipal:function(){var e=this;i["a"].post("/dept/getPrincipal/"+this.setPrincipalForm.deptId).then((function(t){200==t.data.code?e.selectedNames=t.data.data:e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))},closeTag:function(e){var t=this;i["a"].post("/dept/removePrincipal/"+this.setPrincipalForm.deptId+"/"+e).then((function(e){200==e.data.code?(t.$message.success("移除成功"),t.getPrincipal(),t.options=[]):t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},updateName:function(e){switch(e.deptLevel){case 0:this.updateTownshipForm.deptId=e.id,this.updateTownshipForm.deptName=e.label,this.getTownShipInfo(e.id),this.updateDeptType="township";break;case 1:this.updateVillageForm.deptId=e.id,this.updateVillageForm.deptName=e.label,this.getVillageInfo(e.id),this.updateDeptType="village";break;case 2:this.updateSocietyForm.deptId=e.id,this.updateSocietyForm.deptName=e.label,this.getSocietyInfo(e.id),this.updateDeptType="society";break;case 3:this.updateHouseholdForm.deptId=e.id,this.updateHouseholdForm.deptName=e.label,this.getHouseholdInfo(e.id),this.updateDeptType="household";break}this.dialogUpdateVisible=!0},remoteMethod:function(e){var t=this;this.loading=!0,i["a"].get("/user/search/"+this.setPrincipalForm.deptId+"/"+e).then((function(e){200==e.data.code?t.options=e.data.data:t.$message.error(e.data.message),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1}))},change:function(e){var t=this;i["a"].post("/user/getNameById",{userIds:e}).then((function(e){200==e.data.code?t.selectNames=e.data.data:t.$message.error(e.data.message)})).catch((function(e){console.log(e)}))},submitPrincipalDept:function(){var e=this;i["a"].post("/dept/setPrincipal",this.setPrincipalForm).then((function(t){200==t.data.code?(e.getPrincipal(),e.dialogSetPrincipalVisible=!1,e.selectNames=[],e.$message.success("设置成功")):e.$message.error(t.data.message)})).catch((function(e){console.log(e)}))}},created:function(){this.getTree(),this.getUserByDeptId(),this.getTakeInSourceOptions(),this.getTuoPinBuWenDingOptions(),this.getInitInfo(),this.getNations(),this.getWorkArea(),this.getWorkType()}},s=l,n=(o("5f4b"),o("2877")),d=Object(n["a"])(s,a,r,!1,null,"fb443242",null);t["default"]=d.exports},e01a:function(e,t,o){"use strict";var a=o("23e7"),r=o("83ab"),i=o("da84"),l=o("e330"),s=o("1a2d"),n=o("1626"),d=o("3a9b"),u=o("577e"),c=o("9bf2").f,p=o("e893"),m=i.Symbol,f=m&&m.prototype;if(r&&n(m)&&(!("description"in f)||void 0!==m().description)){var h={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=d(f,this)?new m(e):void 0===e?m():m(e);return""===e&&(h[t]=!0),t};p(g,m),g.prototype=f,f.constructor=g;var b="Symbol(test)"==String(m("test")),v=l(f.toString),y=l(f.valueOf),F=/^Symbol\((.*)\)[^)]+$/,I=l("".replace),w=l("".slice);c(f,"description",{configurable:!0,get:function(){var e=y(this),t=v(e);if(s(h,e))return"";var o=b?w(t,7,-1):I(t,F,"$1");return""===o?void 0:o}}),a({global:!0,forced:!0},{Symbol:g})}},e538:function(e,t,o){var a=o("b622");t.f=a},e8b5:function(e,t,o){var a=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},e9c4:function(e,t,o){var a=o("23e7"),r=o("da84"),i=o("d066"),l=o("2ba4"),s=o("e330"),n=o("d039"),d=r.Array,u=i("JSON","stringify"),c=s(/./.exec),p=s("".charAt),m=s("".charCodeAt),f=s("".replace),h=s(1..toString),g=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,v=/^[\uDC00-\uDFFF]$/,y=function(e,t,o){var a=p(o,t-1),r=p(o,t+1);return c(b,e)&&!c(v,r)||c(v,e)&&!c(b,a)?"\\u"+h(m(e,0),16):e},F=n((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&a({target:"JSON",stat:!0,forced:F},{stringify:function(e,t,o){for(var a=0,r=arguments.length,i=d(r);a<r;a++)i[a]=arguments[a];var s=l(u,null,i);return"string"==typeof s?f(s,g,y):s}})}}]);
//# sourceMappingURL=chunk-2fa5f764.5800062a.js.map